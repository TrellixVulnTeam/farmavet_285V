<div mat-dialog-content>
    <div class="container">
        <table mat-table [dataSource]="pets$">
            <ng-container matColumnDef="specie">
                <th mat-header-cell *matHeaderCellDef> Especie </th>
                <td mat-cell *matCellDef="let pet"> <input [disabled]="pet.new == undefined" type="text"
                        [(ngModel)]="pet.specie" value="{{pet.specie}}" /> </td>
            </ng-container>

            <ng-container matColumnDef="gender">
                <th mat-header-cell *matHeaderCellDef> Gênero </th>
                <td mat-cell *matCellDef="let pet"> <input [disabled]="pet.new == undefined" type="text"
                        [(ngModel)]="pet.gender" value="{{pet.gender}}" /> </td>
            </ng-container>

            <ng-container matColumnDef="breed">
                <th mat-header-cell *matHeaderCellDef> Raça </th>
                <td mat-cell *matCellDef="let pet"> <input [disabled]="pet.new == undefined" type="text"
                        [(ngModel)]="pet.breed" value="{{pet.breed}}" /> </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Nome </th>
                <td mat-cell *matCellDef="let pet"> <input [disabled]="pet.new == undefined" type="text"
                        [(ngModel)]="pet.name" value="{{pet.name}}" /> </td>
            </ng-container>

            <ng-container matColumnDef="birthDate">
                <th mat-header-cell *matHeaderCellDef> Data de nascimento </th>
                <td mat-cell *matCellDef="let pet">
                    <mat-form-field appearance="fill">
                        <input placeholder="Escolha a data" style="background-color: white;" matInput [matDatepicker]="dp3" [disabled]="pet.new == undefined" [(ngModel)]="pet.birthDate">
                        <mat-datepicker-toggle style="background-color: white;" matSuffix [for]="dp3"></mat-datepicker-toggle>
                        <mat-datepicker style="background-color: white;" #dp3 [disabled]="pet.new == undefined"></mat-datepicker>
                    </mat-form-field>
                </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th class="th-button" mat-header-cell *matHeaderCellDef>
                    <button mat-mini-fab color="primary" aria-label="Novo pet">
                        <mat-icon (click)="add()">add</mat-icon>
                    </button>
                </th>

                <td mat-cell *matCellDef="let pet, let i = index">
                    <div *ngIf="pet.new == undefined" style="display: flex;">
                        <button style="margin-left: 30px;" mat-icon-button color="black" aria-label="Editar pet">
                            <mat-icon (click)="update(pet, i)">edit</mat-icon>
                        </button>
                    </div>
                    <div *ngIf="pet.new != undefined" style="display: flex;">
                        <button mat-icon-button color="black" aria-label="save pet">
                            <mat-icon (click)="save(pet)">save</mat-icon>
                        </button>

                        <button mat-icon-button color="warn" aria-label="cancel">
                            <mat-icon (click)="cancel(pet)">cancel</mat-icon>
                        </button>
                    </div>
                </td>

            </ng-container>

            <ng-container matColumnDef="appointment">
                <th mat-header-cell *matHeaderCellDef> Marcar consulta </th>
                <td mat-cell *matCellDef="let pet, let i = index">
                    <button [disabled]="pet.id == undefined" style="margin-left: 25px;" mat-icon-button color="black" aria-label="Editar pet">
                        <mat-icon (click)="makeAppointment(pet)">send</mat-icon>
                    </button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>
<div mat-dialog-actions>
    <button mat-button mat-dialog-close color="primary" (click)="close()">Ok</button>
</div>